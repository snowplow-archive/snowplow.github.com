---
layout: post
title: Snowplow Node.js Tracker 0.1.0 released
title-short: Snowplow Node.js Tracker 0.1.0
tags: [snowplow, analytics, node, npm, tracker]
author: Fred
category: Releases
---

We are delighted to announce the release of the first version of the [Snowplow Node.js Tracker][repo]. This is an [npm][npm] module designed to send Snowplow events to a Snowplow collector from a [Node.js][node-js] environment.

This post will cover installing and setting up the Node.js Tracker and introduce its main features.

1. [Background](/blog/2014/08/08/snowplow-node.js-tracker-0.1.0-released/#background)
2. [How to install the tracker](/blog/2014/08/08/snowplow-node.js-tracker-0.1.0-released/#install)
3. [How to use the tracker](/blog/2014/08/08/snowplow-node.js-tracker-0.1.0-released/#usage)
4. [Features](/blog/2014/08/08/snowplow-node.js-tracker-0.1.0-released/#features)
5. [Getting help](/blog/2014/08/08/snowplow-node.js-tracker-0.1.0-released/#help)

<!--more-->

<div class="html">
<h2><a name="background">1. Background</a></h2>
</div>

The Snowplow Node.js Tracker is our first release making use of the new [JavaScript Tracker Core][tracker-core] module. The JavaScript Tracker Core library is intended to reduce duplication between different JavaScript-based Snowplow trackers, and will soon be integrated into our [client-side JavaScript Tracker][client-tracker].

<div class="html">
<h2><a name="install">2. How to install the tracker</a></h2>
</div>

You will need to have Node.js and npm installed - see [this gist][gist] for help with this step.

Install the tracker like this:

{% highlight bash %}
cd my-project-root
npm install snowplow-tracker
{% endhighlight %}

You can also of course add the Snowplow Node.js Tracker as a dependency in your own JavaScript apps, node-webkit projects and Node.js servers.

For more information, see the [setup page][setup].

<div class="html">
<h2><a name="usage">3. How to use the tracker</a></h2>
</div>

Require the tracker module like this:

{% highlight javascript %}
var tracker = require('snowplow-tracker');
{% endhighlight %}

`tracker` is the function which constructs the tracker instance. This is its signature:

{% highlight javascript %}
function tracker(endpoint, namespace, appId, encodeBase64);
{% endhighlight %}

* `endpoint` is the collector to which events will be sent
* `namespace` is a name for the tracker instance which will be attached to all events that it sends, making it easier to identify their source
* `appId` is the application ID
* `encodeBase64` is whether unstructured events and custom contexts should be base 64 encoded. It defaults to `true`.

Create a new tracker instance like this:

{% highlight javascript %}
var t = tracker('d3rkrsqld9gmqf.cloudfront.net', 'tracker2', 'my-app', false);
{% endhighlight %}

You can set additional information which will be attached to every event:

{% highlight javascript %}
t.setUserId('345723-046778-346346');
t.setPlatform('web');
t.setTimezone('Europe/London');
t.setColorDepth(24);
{% endhighlight %}

Send some events:

{% highlight javascript %}
// A page view event
t.trackPageView('http://www.example.com', 'example page', 'http://www.referrer.com');

// An unstructured event
t.trackUnstructEvent({
	schema: 'iglu:com.acme/product_view/jsonschema/1-0-0',
	data: {
		productCategory: 'books',
		productName: 'Leviathan'
	}
});

// A screen view with a custom context array attached
t.trackScreenView('main screen', 'screen-43536ipt', [{
	schema: 'iglu:com.acme/test_context/jsonschema/1-0-0',
	data: {
		pageType: 'test',
		userType: 'tester'
	}
}]);

// An ecommerce transaction event containing two items
t.trackEcommerceTransaction(
	'order-7',   // order ID
	null,        // affiliate
	25,          // total value
	5,           // tax
	0,           // shipping
	'Dover',     // city
	'Delaware',  // state
	'US',        // country
	'USD',       // currency
	[{
		sku: '474657',
		name: 'red hat',
		quantity: 1',
		price: '15',
		category: 'clothing'
	},
	{
		sku: '474658',
		name: 'cyan hat',
		quantity: 2',
		price: '10',
		category: 'clothing'
	}]);
{% endhighlight %}

For more information on using the Node.js Tracker, see the [wiki page][wiki].

<div class="html">
<h2><a name="features">4. Features</a></h2>
</div>

The Node.js Tracker's functionality is very similar to that of the [Snowplow Ruby Tracker][ruby-tracker] and [Snowplow Python Tracker][python-tracker]. It supports all the same events, as well as for unstructured events and custom contexts.

All events generated by the tracker are sent asynchronously, using the [Request][request] module. We have written an asynchronous test suite using [Mocha][mocha].

<div class="html">
<h2><a name="help">5. Getting help</a></h2>
</div>

If you need help getting set up or want a new feature, please [get in touch] [talk-to-us]. This is only the first release of the Node.js Tracker and we're keen to hear people's opinions. Finally, [raise an issue] [issues] if you find any bugs!

[repo]: https://github.com/snowplow/snowplow-nodejs-tracker
[tracker-core]: https://github.com/snowplow/snowplow-javascript-tracker/tree/master/core
[client-tracker]: https://github.com/snowplow/snowplow-javascript-tracker
[ruby-tracker]: https://github.com/snowplow/snowplow-ruby-tracker
[python-tracker]: https://github.com/snowplow/snowplow-python-tracker
[npm]: https://www.npmjs.org/
[node-js]: http://nodejs.org/
[gist]: https://gist.github.com/isaacs/579814
[request]: https://github.com/mikeal/request
[mocha]: http://visionmedia.github.io/mocha/
[wiki]:  https://github.com/snowplow/snowplow/wiki/Node.js-tracker-setup
[wiki]:  https://github.com/snowplow/snowplow/wiki/Node.js-Tracker
[talk-to-us]: https://github.com/snowplow/snowplow/wiki/Talk-to-us
[issues]: https://github.com/snowplow/snowplow-nodejs-tracker/issues
