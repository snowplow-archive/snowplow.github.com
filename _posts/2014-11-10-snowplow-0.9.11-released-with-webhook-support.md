---
layout: post
title: Snowplow 0.9.11 released with support for webhooks
title-short: Snowplow 0.9.11
tags: [snowplow, webhook, streaming api, postback, callrail, mailchimp, ad-x tracking]
author: Alex
category: Releases
---

We are pleased to announce the immediate availability of Snowplow 0.9.11. For the first time, you can now use Snowplow to collect, store and analyze event streams generated by supported third-party software.

Many Software-as-a-Service vendors publish their own internal event streams for customers to consume - these event stream APIs are often referred to as ["webhooks"] [webhooks-defn], sometimes as "streaming APIs", "postbacks" or "HTTP response APIs". Snowplow 0.9.11 adds first-class support for an initial set of these third-party webhooks.

This release is the first step in making our [Snowplow trackers] [snowplow-trackers] just one set of possible event streams into your Snowplow event warehouse and unified log:

![webhooks](/assets/img/blog/2014/11/webhooks.png)

For our initial 0.9.11 release we are adding support for three different webhook sources:

* **MailChimp** - for tracking email and email-related events delivered by [MailChimp] [mailchimp-website]
* **CallRail** - for tracking completed telephone calls recorded by [CallRail] [callrail-website]
* **Iglu** - for tracking [Iglu] [iglu]-compatible self-describing events, enabling you to use schema-less webhook APIs such as [AD-X Tracking] [adxtracking-website]

Here are the sections after the fold:

1. [MailChimp webhook support](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#mailchimp)
2. [CallRail webhook support](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#callrail)
3. [Iglu webhook support](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#iglu)
4. [Updated Clojure Collector](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#clj-collector)
5. [Updated change_form table](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#change-form)
6. [Upgrading](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#upgrading)
7. [Roadmap and contributing](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#roadmap-etc)
8. [Documentation and help](/blog/2014/11/10/snowplow-0.9.11-released-with-webhook-support/#help)

<!--more-->

<h2><a name="mailchimp">1. MailChimp webhook support</a></h2>

The MailChimp webhook adapter in Snowplow 0.9.11 lets you track email and email-related events delivered by [MailChimp] [mailchimp-website]. Using this functionality, you can warehouse all email-related events alongside your existing Snowplow events.

For help setting up MailChimp support, see the [MailChimp webhook setup] [mailchimp-setup] wiki page.

For technical details on this adapter, see the [MailChimp webhook adapter] [mailchimp-tech-docs] wiki page.

<h2><a name="callrail">2. CallRail webhook support</a></h2>

The CallRail webhook adapter lets you track completed telephone calls recorded by [CallRail] [callrail-website], a SaaS call tracking system. This is great for working with online and mobile conversion funnels which conclude in a telephone call.

For help setting up CallRail support, see the [CallRail webhook setup] [callrail-setup] wiki page.

For technical details on this adapter, see the [CallRail webhook adapter] [callrail-tech-docs] wiki page.

<h2><a name="iglu">3. Iglu webhook support</a></h2>

The Iglu webhook adapter lets you track events sent via a `GET` request containing an [Iglu] [iglu]-compatible event payload. You can send in whatever name-value pairs on the querystring that make sense for your event, but you **must** also include a `schema` parameter, set to a valid Iglu self-describing schema URI corresponding to the name-value pairs you sent through.

You can use this adapter with vendors who allow you define your own event types for "postback". An example of a vendor who does this is [AD-X Tracking] [adxtracking-website].

For help setting up Iglu-compatible event webhook support, see the [Iglu webhook setup] [iglu-setup] wiki page.

For technical details on this adapter, see the [Iglu webhook adapter] [iglu-tech-docs] wiki page.

<h2><a name="clj-collector">4. Updated Clojure Collector</a></h2>

We have updated ([#1131] [issue-1131]) the Clojure Collector so that it now returns `200` rather than an error code if you make a `GET` request to a path such as:

{% highlight bash %}
http://<collector host>/api-vendor/api-version?...
{% endhighlight %}

This type of request paths were already supported for `POST` requests.

This is important for supporting webhooks which send their events via `GET` requests; it is also important for webhook providers like MailChimp who, although they send events via `POST`, send an initial `GET` and expect a 200 response code to confirm that the webhook endpoint (aka our Snowplow collector) is up-and-running.

<h2><a name="change-form">5. Updated change_form table</a></h2>

We became aware of an issue loading events into the new `com_snowplowanalytics_snowplow_change_form_1` table introduced in Snowplow 0.9.10 last week. While we continue to investigate this issue ([#1134] [issue-1134]), we have updated the `change_form` table definition, specifically removing the `not null` constraint on the `value` column ([#1162] [issue-1162]).

If you have already installed this table following the 0.9.10 release and are using [`enableFormTracking`] [enable-form-tracking] with the Snowplow JavaScript Tracker, we recommend upgrading to this updated table to prevent possible Redshift `COPY` failures.

<h2><a name="upgrading">6. Upgrading</a></h2>

<div class="html">
<h3><a name="configuring-emretlrunner">6.1 Updating EmrEtlRunner's configuration</a></h3>
</div>

This release bumps the Hadoop Enrichment process to version **0.9.0**.

In your EmrEtlRunner's `config.yml` file, update your Hadoop enrich job's version to 0.9.0, like so:

{% highlight yaml %}
  :versions:
    :hadoop_enrich: 0.9.0 # WAS 0.8.0
{% endhighlight %}

For a complete example, see our [sample `config.yml` template] [emretlrunner-config-yml].

<div class="html">
<h3><a name="upgrading-collector">6.2 Updating your Clojure Collector</a></h3>
</div>

This release bumps the Clojure Collector to version **0.9.0**.

To upgrade to this release:

1. Download the new warfile by right-clicking on [this link] [war-download] and selecting "Save As..."
2. Log in to your Amazon Elastic Beanstalk console
3. Browse to your Clojure Collector's application
4. Click the "Upload New Version" and upload your warfile

<div class="html">
<h3><a name="upgrading-change-form">6.3 Redshift</a></h3>
</div>

If you have installed the `com_snowplowanalytics_snowplow_change_form_1` table following the 0.9.10 release, then please upgrade it to the latest version. The 0.9.11 release contains an upgrade script, [migrate_change_form_1_r1_to_r2.sql] [change-form-migrate].

Also make sure to deploy Redshift tables for any webhooks you plan on ingesting into Snowplow. You can find the Redshift table deployment instructions on the corresponding webhook setup wiki pages:

* [MailChimp webhook Redshift setup] [mailchimp-setup-red]
* [CallRail webhook Redshift setup] [callrail-setup-red]
* [Iglu webhook Redshift setup] [iglu-setup-red]

<h2><a name="roadmap-etc">7. Roadmap and contributing</a></h2>

We are already working on the next set of webhook adapters for Snowplow - you can follow our progress in the [Webhooks 2] [webhooks-2] milestone in GitHub. The webhooks we will be supporting next will likely be:

1. [Mandrill] [mandrill-website]
2. [PagerDuty] [pagerduty-website]
3. [Pingdom] [pingdom-website]

We welcome any contributions of webhook adapters for other services - for details on getting started, please see [How to integrate a webhook into Snowplow] [webhook-contributing]. Please note that contributing will require some experience in Scala at this time.

Similarly, if you would like to sponsor the Snowplow team to build a webhook adapter, do [get in touch] [sponsorship-contact]!

<h2><a name="help">8. Documentation and help</a></h2>

Documentation relating to the new webhook support is available on the wiki:

* [Setting up a webhook] [webhook-setup]
* [Technical documentation on webhooks] [webhook-tech-docs]

As always, if you do run into any issues or don't understand any of the new features, please [raise an issue] [issues] or get in touch with us via [the usual channels] [talk-to-us].

For more details on this release, please check out the [0.9.11 Release Notes] [snowplow-0911] on GitHub.

[webhooks-defn]: http://en.wikipedia.org/wiki/Webhook

[iglu]: https://github.com/snowplow/iglu
[callrail-website]: http://www.callrail.com/
[mailchimp-website]: http://mailchimp.com/
[adxtracking-website]: http://adxtracking.com/

[snowplow-trackers]: http://snowplowanalytics.com/technology/index.html

[webhook-setup]: https://github.com/snowplow/snowplow/wiki/Setting-up-a-Webhook

[mailchimp-setup]: https://github.com/snowplow/snowplow/wiki/MailChimp-webhook-setup
[mailchimp-setup-red]: https://github.com/snowplow/snowplow/wiki/MailChimp-webhook-setup#22-redshift
[callrail-setup]: https://github.com/snowplow/snowplow/wiki/CallRail-webhook-setup
[callrail-setup-red]: https://github.com/snowplow/snowplow/wiki/CallRail-webhook-setup#22-redshift
[iglu-setup]: https://github.com/snowplow/snowplow/wiki/Iglu-webhook-setup
[iglu-setup-red]: https://github.com/snowplow/snowplow/wiki/Iglu-webhook-setup#22-redshift

[emretlrunner-config-yml]: https://github.com/snowplow/snowplow/blob/master/3-enrich/emr-etl-runner/config/config.yml.sample

[webhook-tech-docs]: https://github.com/snowplow/snowplow/wiki/Snowplow-technical-documentation#1b-webhooks

[mailchimp-tech-docs]: https://github.com/snowplow/snowplow/wiki/MailChimp-webhook-adapter
[callrail-tech-docs]: https://github.com/snowplow/snowplow/wiki/CallRail-webhook-adapter
[iglu-tech-docs]: https://github.com/snowplow/snowplow/wiki/Iglu-webhook-adapter

[enable-form-tracking]: https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#3101-enableformtracking

[war-download]: http://s3-eu-west-1.amazonaws.com/snowplow-hosted-assets/2-collectors/clojure-collector/clojure-collector-0.9.0-standalone.war

[issue-1131]: https://github.com/snowplow/snowplow/issues/1131
[issue-1134]: https://github.com/snowplow/snowplow/issues/1134
[issue-1162]: https://github.com/snowplow/snowplow/issues/1162

[webhooks-2]: https://github.com/snowplow/snowplow/milestones/Webhooks%202
[mandrill-website]: https://mandrill.com/
[pagerduty-website]: http://www.pagerduty.com/
[pingdom-website]: https://www.pingdom.com/

[change-form-migrate]: https://github.com/snowplow/snowplow/blob/master/4-storage/redshift-storage/sql/com.snowplowanalytics.snowplow/migrate_change_form_1_r1_to_r2.sql

[webhook-contributing]: https://github.com/snowplow/snowplow/wiki/How-to-integrate-a-webhook-into-Snowplow
[sponsorship-contact]: mailto:contact@snowplowanalytics.com
[issues]: https://github.com/snowplow/snowplow/issues
[talk-to-us]: https://github.com/snowplow/snowplow/wiki/Talk-to-us
[snowplow-0911]: https://github.com/snowplow/snowplow/releases/0.9.11
