<!DOCTYPE html>
<html>
<head>
	
	<title>Measure how much traffic different items on your catalog drive to your website - Snowplow Analytics</title>
	

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="/static/css/styles.css" type="text/css" rel="stylesheet" />
	<link href="/static/css/pygments.css" type="text/css" rel="stylesheet" />
	

	<!--For the homepage slider-->
	<link rel="stylesheet" href="/static/css/nivo-slider.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="/static/css/nivo-slider-theme-default.css" type="text/css" media="screen" />
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script src="/static/js/jquery-nivo-slider-pack.js" type="text/javascript" ></script>
	<!--MathJax http://www.mathjax.org/-->
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML.js"></script>
	<script type="text/javascript">
		MathJax.Hub.Config({
	      tex2jax: {
	        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
	      }
	    });
	    MathJax.Hub.Queue(function() {
	        var all = MathJax.Hub.getAllJax(), i;
	        for(i=0; i < all.length; i += 1) {
	            all[i].SourceElement().parentNode.className += ' has-jax';
	        }
    	});
	</script>
</head>
<body>
	<!-- Google Tag Manager -->
	<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-DLRG"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-DLRG');</script>
	<!-- End Google Tag Manager -->

	<div id="container">
		<div id="header" class="span-24">
  <div id="logo">
    <h1><a href="/">Snowplow</a></h1>
    <p>Your web analytics data in your hands</p>
  </div>
  <div id="menu" class="span-15">
    <ul>
      <li ><a href="/product/index.html">Product</a></li>
      <li ><a href="/services/index.html">Services</a></li>
      <li  class="active" ><a href="/analytics/index.html">Analytics</a></li>
      <li ><a href="/technology/index.html">Technology</a></li>
      <li ><a href="/blog.html">Blog</a></li>
      <li ><a id="mail" href="/about/index.html">About</a></li>
    </ul>
  </div>
</div>
	
		<div id="contents">
<a name='top'><h1>Measure how much traffic different items in your catalog drive to your website</h1></a>
<p>In our recipe for <a href='/analytics/catalog-analytics/measuring-and-comparing-product-page-performance.html'>measuring product page performance</a>, we measured how good individual product pages on a retailer&#8217;s site was by how effectively each page drove users to add products to their basket. The assumption underlying this measurement technique is that the primary purpose of a product page on a retailer site is to drive purchases of the product.</p>

<p>In our recipe for <a href='/analytics/catalog-analytics/measuring-and-comparing-content-page-performance.html'>measuring content page performance</a>, we measured how good individual content pages on a media site are by how long users engage with them, and what fraction of the page users view. The assumption underlying this measurement technique is that the primary purpose of a content page is to drive engagement.</p>

<p>In fact, items in your catalog, be they products on a retailers website, articles on a newspaper site, or videos on a media site, are not there solely for the purposes of driving purchases or increasing site engagement. There are a number of functions that each item might perform - to give just two examples:</p>

<ol>
<li>Drive visitors to the site. Having a large and deep catalog improves a website&#8217;s search rankings across a wider range of keywords. Having more content also increases the likelihood of people linking into that content. It also increases the number of landing pages ads can point to.</li>

<li>Growing average basket value. An item on a retailer site might not pull in much traffic, perhaps because there is not much demand for the product, but it might make a compelling upsell for customers who&#8217;ve come to your website to buy a different item on your catalog.</li>
</ol>

<p>In this post, we&#8217;ll run through how to measure how effectively different items on your catalog drive traffic to your website. We&#8217;ll run our analyses against one examples site: <a href='http://www.psychicbazaar.com/'>psychicbazaar.com</a>, to show how this technique can be used in practice. Although our examples are from a retailer site, the same technique can also be applied to media / content sites.</p>

<p>We&#8217;ll use Tableau to perform the analysis. However, the methodology is generic: the same analysis can be performed using other tools (e.g. <a href='http://www.r-project.org/'>R</a> or <a href='http://www.microsoft.com/en-us/bi/PowerPivot.aspx'>Microsoft PowerPivot</a>). We do <strong>not</strong> believe that this analysis is possible using non-Snowplow (i.e. Google Analytics) data.</p>

<h2 id='contents'>Contents</h2>

<p>The recipe is divided into the following sections:</p>

<ol>
<li><a href='#methodology'>Methodology</a></li>

<li><a href='#data'>Performing the analysis: getting the right data out of Snowplow</a></li>

<li><a href='#drill'>Drilling into our data: understanding how our top performing products are generating traffic</a></li>

<li><a href='#drillfurther'>Drilling in further: is paid or organic search driving the bulk of product-focused traffic</a></li>

<li><a href='#otherchannels'>What other channels are driving traffic to our best performing items?</a></li>

<li><a href='#plotovertime'>Plotting traffic driven by item, by item, over time</a></li>
</ol>

<p>Back to <a href='#top'>top</a>.</p>
<a name='methodology'><h2>1. Methodology</h2></a>
<p>The methodology for performing this analysis is surprisingly straightforward:</p>

<ul>
<li>Identify each item in our catalog</li>

<li>For each item, identify the &#8220;item page&#8221;. (This is the product page in the case of an online retailer, or the article page in the case of e.g. a news site)</li>

<li>Measure the number of visits / visitors to our website where the item page is the landing page. (I.e. the first page in the session.) In each of these cases, we can assume that the visitor came to our site in order to view this item</li>

<li>By comparing the number of visits driven by different items, we can see which are good at driving traffic and which are not</li>

<li>We can then look at the referers driving that traffic, to see how the item is driving traffic</li>

<li>Lastly, we look at how each item drives traffic over time, to contrast items which drive strong traffic levels over a short period (e.g. current affairs blog posts) with seasonal items (e.g. winter coats) and evergreen items (e.g. technical tutorials)</li>
</ul>

<p>Back to <a href='#top'>top</a>.</p>
<a name='data'><h2>2. Performing the analysis: getting the right data out of Snowplow</h2></a>
<p>The structure of Snowplow data makes doing the above analysis very straightforward. We can identify page views using the <code>event</code> field (&#8220;event&#8221; = &#8216;page_view&#8217;). We can identify whether a page view is a landing page by the referer: specifically, the <code>refr_medium</code> field. For any page view that happens in session (so it not a landing page), the referer will be an internal page. As a result, to fetch all rows of data which represent page views for landing pages, we simply execute the following query:</p>
<div class='highlight'><pre><code class='psql'><span class='cm'>/* PostgreSQL / Redshift */</span>
<span class='k'>SELECT</span>
	<span class='n'>page_urlpath</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Item page&quot;</span><span class='p'>,</span>
	<span class='n'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>user_id</span> <span class='o'>+</span> <span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Uniques driven to site&quot;</span><span class='p'>,</span>
	<span class='n'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>user_id</span> <span class='o'>+</span> <span class='n'>domain_userid</span> <span class='o'>+</span> <span class='s1'>&#39;-&#39;</span> <span class='o'>+</span> <span class='n'>domain_sessionidx</span><span class='p'>))</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Visits driven to site&quot;</span><span class='p'>,</span>
	<span class='n'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Landing page views&quot;</span>
<span class='k'>FROM</span>
	<span class='s-Name'>&quot;events&quot;</span>
<span class='k'>WHERE</span> <span class='s-Name'>&quot;event&quot;</span> <span class='o'>=</span> <span class='s1'>&#39;page_view&#39;</span>
<span class='k'>AND</span>   <span class='s-Name'>&quot;refr_medium&quot;</span> <span class='o'>!=</span> <span class='s1'>&#39;internal&#39;</span>
<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span><span class='p'>;</span>
</code></pre></div>
<p>Note that we group our results by page, so we get a single line for each page. The sum of all the records for each page is the number of page views, where that page is a landing page. We also calculat the number of visits and uniques, by counting the number of distinct users and sessions.</p>

<p>To start with, lets perform the analysis on <a href='http://www.psychicbazaar.com/'>Psychic Bazaar</a>. We want to execute the above query, but <strong>only</strong> return lines for pages which are product page. (So ignore entries for e.g. the home page or category pages.) We can do this by filtering results based on URL:</p>
<div class='highlight'><pre><code class='psql'><span class='cm'>/* PostgreSQL / Redshift */</span>
<span class='k'>SELECT</span>
	<span class='n'>page_urlpath</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Item page&quot;</span><span class='p'>,</span>
	<span class='n'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>user_id</span> <span class='o'>+</span> <span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Uniques driven to site&quot;</span><span class='p'>,</span>
	<span class='n'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>user_id</span> <span class='o'>+</span> <span class='n'>domain_userid</span> <span class='o'>+</span> <span class='s1'>&#39;-&#39;</span> <span class='o'>+</span> <span class='n'>domain_sessionidx</span><span class='p'>))</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Visits driven to site&quot;</span><span class='p'>,</span>
	<span class='n'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='s-Name'>&quot;Landing page views&quot;</span>
<span class='k'>FROM</span>
	<span class='s-Name'>&quot;events&quot;</span>
<span class='k'>WHERE</span> <span class='s-Name'>&quot;event&quot;</span> <span class='o'>=</span> <span class='s1'>&#39;page_view&#39;</span>
<span class='k'>AND</span>   <span class='s-Name'>&quot;refr_medium&quot;</span> <span class='o'>!=</span> <span class='s1'>&#39;internal&#39;</span>
<span class='k'>AND</span> <span class='p'>(</span>  <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span><span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span><span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>)</span> <span class='p'>)</span>
<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span>
<span class='k'>ORDER</span> <span class='k'>BY</span> <span class='s-Name'>&quot;Landing page views&quot;</span> <span class='k'>DESC</span><span class='p'>;</span>
</code></pre></div><a href='/static/img/analytics/catalog-analytics/driving-traffic/1.png'><img src='/static/img/analytics/catalog-analytics/driving-traffic/1.png' /></a>
<p>We can plot the results in Tableau: create a new data connection from Tableau to Redshift using the above query. (For detailed instructions on how to pull specific cuts of Snowplow data from Redshift into Tableau, refer to the <a href='https://github.com/snowplow/snowplow/wiki/Setting-up-Tableau-to-analyse-data-in-Redshift'>analytics setup guide</a>). Simply drag the &#8220;Item name&#8221; dimension to the rows shelf and one of the measures into the worksheet. In the example below we&#8217;ve listed &#8220;visits driven to the site&#8221; by page view:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/1.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/1.JPG' /></a>
<p>Now we can plot a histogram by clicking on the histogram image on the &#8220;Show Me&#8221; toolbar. To tidy up the histogram, we&#8217;ve replaced the &#8220;item page&#8221; dimension with a calculated field &#8220;Item Name&#8221; which removes teh leading &#8220;/&#171;CATEGORY NAME&#187;&#8221; and trailing &#8220;.html&#8221; from the &#8220;item page&#8221; field, using the following formula:</p>
<div class='highlight'><pre><code class='rout'><span class='go'>REPLACE(</span>
<span class='go'>	REPLACE(</span>
<span class='go'>		REPLACE(</span>
<span class='go'>		    REPLACE(</span>
<span class='go'>		        REPLACE( [item page], &quot;/oracles/&quot;, &quot;&quot; )</span>
<span class='go'>		    , &quot;/tarot-cards/&quot;, &quot;&quot;)</span>
<span class='go'>		,&quot;/pendula/&quot;, &quot;&quot;)</span>
<span class='go'>	,&quot;/jewellery/&quot;, &quot;&quot;)</span>
<span class='go'>, &quot;.html&quot;, &quot;&quot;)</span>
</code></pre></div>
<p>We&#8217;ve also added a calculated field called &#8220;Product category&#8221; that infers the product category from the item page URL using the following formula:</p>
<div class='highlight'><pre><code class='rout'><span class='go'>IF(CONTAINS([item page], &quot;/tarot-cards/&quot;)) THEN &quot;Tarot&quot;</span>
<span class='go'>ELSEIF (CONTAINS([item page], &quot;/oracles/&quot;)) THEN &quot;Oracle&quot;</span>
<span class='go'>ELSEIF (CONTAINS([item page], &quot;/jewellery/&quot;)) THEN &quot;Jewellery&quot;</span>
<span class='go'>ELSEIF (CONTAINS([item page], &quot;/pendula/&quot;)) THEN &quot;Pendulum&quot;</span>
<span class='go'>ELSE &quot;Not classified&quot; END</span>
</code></pre></div>
<p>to the color dimension. Our graph looks as follows:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/2.jpg'><img src='/static/img/analytics/catalog-analytics/driving-traffic/2-truncated.jpg' /></a>
<p><em>Note: the above graph is truncated - click on it to view the full result set</em></p>

<p>Two things become immediate apparent from the above graph:</p>

<ul>
<li>There is wide variation in how much traffic different product pages drive to our website. &#8220;Gypsy fortune telling cards&#8221; and &#8220;Art deco fortune telling cards&#8221; have both driven more than 100 visits in the time period we&#8217;re examining. By contrast, there are 22 items that have only driven one or two visits to the site. Also note that our SQL query will not return product pages which have driven no traffic to the site. Psychic Bazaar offers c.300 SKUs, and our result set contains 292 products, so there are an additional 8 products that generated no traffic at all.</li>

<li>In spite of the wide variation, there are no real step changes in the traffic by product page: across the SKUs there is a pretty even distribution. (We have plotted this explicitly below.)</li>
</ul>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/3.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/3.JPG' /></a>
<p>Two important things that the graphs do not tell us:</p>

<ol>
<li>On which channels the traffic was generated.</li>

<li>How evenly over time the traffic was generated.</li>
</ol>

<p>Back to <a href='#top'>top</a>.</p>
<a name='drill'><h2>3. Drilling into our data: understanding how our top performing products are generating traffic</h2></a>
<p>We can examine this by going back to our Snowplow data in Redshift, and executing the following query. Note that this query pulls many more fields into Snowplow than the previous query: crucially it pulls in the <code>collector_tstamp</code> (so we can look at traffic over time) and the marketing and referer fields (so we can see on which channel each product drove traffic).</p>
<div class='highlight'><pre><code class='psql'><span class='cm'>/* PostgreSQL / Redshift */</span>
<span class='k'>SELECT</span>
	<span class='n'>collector_tstamp</span><span class='p'>,</span>
	<span class='n'>user_id</span> <span class='o'>+</span> <span class='n'>domain_userid</span> <span class='k'>AS</span> <span class='s-Name'>&quot;domain_userid&quot;</span><span class='p'>,</span>
	<span class='n'>domain_sessionidx</span><span class='p'>,</span>
	<span class='n'>page_urlpath</span><span class='p'>,</span>
	<span class='n'>refr_medium</span><span class='p'>,</span>
	<span class='n'>refr_source</span><span class='p'>,</span>
	<span class='n'>refr_term</span><span class='p'>,</span>
	<span class='n'>refr_urlhost</span><span class='p'>,</span>
	<span class='n'>refr_urlpath</span><span class='p'>,</span>
	<span class='n'>mkt_medium</span><span class='p'>,</span>
	<span class='n'>mkt_source</span><span class='p'>,</span>
	<span class='n'>mkt_term</span><span class='p'>,</span>
	<span class='n'>mkt_campaign</span>
<span class='k'>FROM</span>
	<span class='s-Name'>&quot;events&quot;</span>
<span class='k'>WHERE</span> <span class='s-Name'>&quot;event&quot;</span> <span class='o'>=</span> <span class='s1'>&#39;page_view&#39;</span>
<span class='k'>AND</span>   <span class='s-Name'>&quot;refr_medium&quot;</span> <span class='o'>!=</span> <span class='s1'>&#39;internal&#39;</span>
<span class='k'>AND</span> <span class='p'>(</span>  <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span><span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span><span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>)</span> <span class='p'>)</span>
</code></pre></div>
<p>Because we&#8217;re pulling more fields from Snowplow, we are not going to aggregate our data by product as we did before in the SQL - instead, we&#8217;ll do the aggregation in Tableau. (This will give us more flexibility to slice and dice the dimensions against one another in Tableau.)</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/2.png'><img src='/static/img/analytics/catalog-analytics/driving-traffic/2.png' /></a>
<p>To pull our new cut of data into Tableau, click on the &#8220;Data&#8221; menu and select &#8220;Connect to data&#8221;. Create a new connection to Redshift, but this time enter the new query in the Custom SQL pane. Our new data source is listed alongside our first source, in the &#8220;Data&#8221; pane in Tableau.</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/4.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/4.JPG' /></a>
<p>Because we&#8217;re aggregating our data in Tableau rather than SQL, we need to create our metrics (uniques, visits and page views). To create a new calculated field for &#8220;uniques&#8221;, right click on the measures pane, select &#8220;Create calculated field&#8221;, give your new field the name &#8220;uniques&#8221; and enter the following calculation:</p>
<div class='highlight'><pre><code class='rout'><span class='go'>COUNTD([domain_userid])</span>
</code></pre></div>
<p>Create a visits metric in the same way, but this time enter the following formula:</p>
<div class='highlight'><pre><code class='rout'><span class='go'>COUNTD([domain_userid + STR(domain_sessionidx)])</span>
</code></pre></div>
<p>Lastly, we need to create a metric for &#8220;page views&#8221;. Remember: each line of our data represents a single page view, so we can simply rename the &#8220;Number of records&#8221; field to &#8220;Page views&#8221;. Our measures pane now looks as follows:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/5.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/5.JPG' /></a>
<p>Now we can plot the number of visits driven by each type of product, and break that down by referer type. To start off, let&#8217;s plot the number of visits by product, as before, but this time, drag &#8220;refr_medium&#8221; into the color shelf, so that we breakdown visits by the referer type:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/6.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/6.JPG' /></a>
<p>Note that to keep the plot tidy, we&#8217;ve replaced the <code>page_url</code> field with an <code>Item name</code> field that is calculated based on the <code>page_url</code> field using the following formula (which strips out chunks of the URL path that are not interesting), as before:</p>
<div class='highlight'><pre><code class='rout'><span class='go'>REPLACE(</span>
<span class='go'>	REPLACE(</span>
<span class='go'>		REPLACE(</span>
<span class='go'>		    REPLACE(</span>
<span class='go'>		        REPLACE( [page_urlpath], &quot;/oracles/&quot;, &quot;&quot; )</span>
<span class='go'>		    , &quot;/tarot-cards/&quot;, &quot;&quot;)</span>
<span class='go'>		,&quot;/pendula/&quot;, &quot;&quot;)</span>
<span class='go'>	,&quot;/jewellery/&quot;, &quot;&quot;)</span>
<span class='go'>, &quot;.html&quot;, &quot;&quot;)</span>
</code></pre></div>
<p>For our top performing pages by amount of traffic generated, search appears to be the primary channel on which that traffic is acquired. It would be interesting to know whether this is orgnaic search traffic, or the result of SEM against specific keywords. We will drill into this next.</p>

<p>For a significant minority of those visits, there is no referer information. (I.e. <code>refr_medium</code> is blank.)</p>

<p>For some of our top performers (e.g. the Gipsy Fortune telling cards and the Goddesses and Sirens) there is a signifcant set of visits for whom <code>refr_medium</code> is unknown. We can drill into later.</p>

<p>Back to <a href='#top'>top</a>.</p>
<a name='drillfurther'><h2>4. Drilling in further: is paid or organic search driving the bulk of the product-focused traffic?</h2></a>
<p>To answer the above question, we&#8217;re going to do a plot just for our top performers. Create a new sheet, drag the &#8220;Item name&#8221; to the rows pane, drag visits to the field pane and sort the items by visits (descending). Now select the top 10 results, right click and select &#8220;Keep only&#8221;.</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/7.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/7.JPG' /></a>
<p>Now drag <code>refr_medium</code> and <code>mkt_medium</code> to the columns pane. We can now distinguish natural search traffic (where <code>refr_medium</code> = &#8216;search&#8217; and <code>mkt_medium</code> IS NULL) with organic search traffic (where <code>refr_medium</code> = &#8216;search&#8217; and <code>mkt_medium</code> = &#8216;cpc&#8217;):</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/8.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/8.JPG' /></a>
<p>We can now see that the picture is somewhat nuanced: for <em>most</em> products it is natural search that is driving traffic to those products. For a handful, however (Gipsy Fortune Telling cards, Gods and Titans) is it paid search marketing.</p>

<p>This begs a couple of questions, both of which are important to the business:</p>

<ul>
<li>Why is there such a differential in the amount of traffic driven by product from paid search marketing? It is unlikely to be accounted for by differences in search volumes. (Because some of those products have very high levels of natural search traffic.) Is it because terms are more competitive for some products than others? Or is it because not enough effort has been put to setting up specific campaigns for each product?</li>

<li>Why is there such a differential in the amount of natural search driven to each product? Again - is this a reflection of competitor activity? (Which seems unlikely given that some of the products recieve large volumes of paid search traffic.)</li>
</ul>

<p>Back to <a href='#top'>top</a>.</p>
<a name='otherchannels'><h2>5. What other channels are driving traffic to our best performing items?</h2></a>
<p>In section 3.2, we saw that for some products a signicant portion of the traffic they were generating was from non-search channels, where <code>refr_medium</code> = &#8216;unknown&#8217;. (This encapsulates all referers that Snowplow does not recognise as a search or social referer.) It would be nice to drill into who those referers are.</p>

<p>To do that, let take our previous plot:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/6.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/6.JPG' /></a>
<p>Use ctrl + mouse click to select just those products where a significant fraction of the traffic they generate is non-search, right click and select keep only:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/9.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/9.JPG' /></a>
<p>We&#8217;ve select three produts to drill into. Now let&#8217;s filter on <code>refr_medium</code> so that only the &#8216;unknown&#8217; results appear. To do that, drag <code>refr_medium</code> to the filters pane:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/10.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/10.JPG' /></a>
<p>Make sure only &#8216;unknown&#8217; is checked and click OK. Now drag <code>refr_medium</code> out of the color mark and drag <code>refr_urlhost</code> in: this tells us the domain of the referer:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/11.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/11.JPG' /></a>
<p>Or we can look at just the visualization export:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/12.jpg'><img src='/static/img/analytics/catalog-analytics/driving-traffic/12.jpg' /></a>
<p>The results are very illuminating:</p>

<ul>
<li>For two of our top performing products (by amount of traffic attracted to the site), a single referer is responsible for the bulk of traffic: that is &#8216;www.mydivination.com&#8217; for the IJJ Swiss Tarot, and &#8216;www.ecauldron.com&#8217; for the Goddesses and Sirens deck.</li>

<li>For Gipsy Fortune cards, the top two referers are eBay and Amazon. Remember that this product drives most of its traffic through CPC marketing: in fact all the traffic driven from Amazon and eBay is due to Adwords. (For more details, see this <a href='/blog/2013/05/10/where-does-your-traffic-really-come-from/'>blog post</a> on <a href='/blog/2013/05/10/where-does-your-traffic-really-come-from/'>where does your traffic <em>really</em> come from</a>).</li>
</ul>
<a name='plotovertime'><h2>6. Plotting traffic driven by item, by item, over time</h2></a>
<p>We can use the cut of Snowplow data we currently have in Tableau to plot the traffic generated by each product over time.</p>

<p>To do so, create a new sheet in your Tableau workbook, drag &#8220;Item name&#8221; to the rows pane, &#8220;collector_tstamp&#8221; to the columns pane and &#8220;Visits&#8221; to the fields pane. Sort &#8220;Item name&#8221; by visits descending. (Click on the &#8220;Item name&#8221; drop down in the rows pane, select &#8220;sort&#8221;, then the &#8220;Descending&#8221; checkbox and &#8220;Visits&#8221; from the &#8220;Fields&#8221; dropdown.) Click on the area chart icon in the &#8220;Show me&#8221; tool bar. Drag the <code>refr_medium</code> field to the color box, so we can split the traffic by referer type. Adjust the granularity on the <code>collector_tstamp</code> field to suit your data. You should see a plot like this:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/13.jpg'><img src='/static/img/analytics/catalog-analytics/driving-traffic/13.jpg' /></a>
<p>Note that to conserve space, we have only plotted results for our top 10 products.</p>

<p>If we look the graph for Goddessess and Sirens item, we see that our referer (mydivination.com) has driven a steady flow of traffic to the website over time. In contrast, if we look at the graph for Goddesses and Sirens, non-search referral traffic (i.e. ecauldron.com) drove a strong spike in visits on the week beginning the 3rd of February, but then no traffic since February 17th. That suggests that the link from ecauldron.com to Psychic Bazaar was on a blog post, or some other content item with a limited shelf life, in stark contrast to the content on mydivination.com, that appears to be much more evergreen.</p>

<p>We can confirm this hypothesis by looking at the actual content with the link. The referring web address is given in the <code>refr_urlpath</code> dimension. To fish this out, create a new worksheet, drag <code>refr_urlhost</code> to the filters section and create a filter so that <strong>only</strong> records from mydivination.com and ecauldron.com appear:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/14.jpg'><img src='/static/img/analytics/catalog-analytics/driving-traffic/14.jpg' /></a>
<p>Then drag <code>refr_urlhost</code> and <code>refr_urlpath</code> into the rows pane and <code>Visits</code> into the fields pane:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/15.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/15.JPG' /></a>
<p>We can see that the page on ecauldron.com that drove users was a forum thread: over time, this is likely to update so that the link to Snowplow was pushed out of. In contrast, the links from www.mydivination.com are from evergreen pages: pages that refer to the type of Tarot deck, that are shown to people either researching the decks or using the decks to perform readings. (Activities that can happen at any time of the year.) An example page is shown below:</p>
<a href='/static/img/analytics/catalog-analytics/driving-traffic/16.JPG'><img src='/static/img/analytics/catalog-analytics/driving-traffic/16.JPG' /></a>
<p>Back to <a href='#top'>top</a>.</p>
</div>

 <div id="sidebar">
	<h1>Analysts Cookbook</h1>
	<p>
		<a href="/analytics/index.html" >Overview</a>
		
	</p>
	<p>
		<a href="/analytics/customer-analytics/overview.html" >Customer analytics</a>
		
	</p>
	<p>
		<a href="/analytics/catalog-analytics/overview.html" class="active">Catalog analytics</a>
		
		<ul>
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/overview.html">Overview</a></li>
									
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/measuring-and-comparing-product-page-performance.html">Product page performance</a></li>
									
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/measuring-and-comparing-content-page-performance.html">Content page performance</a></li>
									
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/market-basket-analysis-identifying-products-that-sell-well-together.html">Market basket analysis - identifying products and content that go well together</a></li>
									
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
						
							
							<li class="active"><a href="/analytics/catalog-analytics/measuring-how-much-traffic-different-items-in-your-catalog-drive-to-your-website.html" class="active">Measure how much traffic different items on your catalog drive to your website</a></li>
									
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
		</ul>		
		
	</p>
	<p>
		<a href="/analytics/platform-analytics/overview.html" >Platform analytics</a>
		
	</p>
	<p>
		<a href="/analytics/tools-and-techniques/overview.html" >Tools and techniques</a>
		
	</p>
</div>

		<div id="footer">
	<p>Copyright Â© Snowplow Analytics Limited 2012 - 2013.  All rights reserved</p>
</div>
	</div>
		<!-- Following Javascript function used by Disqus to count the number of comments for each blog post and display in the main index -->
	  	<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'snowplow'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        </script>
        <!-- begin olark code -->
		<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
		f[z]=function(){
		(a.s=a.s||[]).push(arguments)};var a=f[z]._={
		},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
		f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
		0:+new Date};a.P=function(u){
		a.p[u]=new Date-a.p[0]};function s(){
		a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
		hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
		return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
		b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
		b.contentWindow[g].open()}catch(w){
		c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
		var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
		b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
		loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
		/* custom configuration goes here (www.olark.com/documentation) */
		olark.identify('9752-503-10-5227');/*]]>*/</script><noscript><a href="https://www.olark.com/site/9752-503-10-5227/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
		<!-- end olark code -->

</body>
</html>